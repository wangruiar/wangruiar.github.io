<h2 id="othello">Othello</h2>

<p>Othello (or Reversi) is a strategy board game for two players, played on an 8×8 uncheckered board.</p>

<p>There are sixty-four identical game pieces called disks (often spelled ”discs”), which are light on oneside and dark on the other.</p>

<p>Please see figure 1. Players take turns placing disks on the board with their assigned color facing up.</p>

<p>During a play,any disks of the opponent’s color that are in a straight line and bounded by the disk just placed andanother disk of the current player’s color are turned over to the current player’s color.</p>

<p>The object of the game is to have the majority of disks turned to display your color when thelast playable empty square is filled.</p>

<p>You can refer to <a href="http://www.tothello.com/html/guideline_of_reversed_othello.htmlformore">http://www.tothello.com/html/guideline_of_reversed_othello.htmlformore</a> information of guideline, meanwhile, you can download the software to have a try from <a href="http://www.tothello.com/html/download.html">http://www.tothello.com/html/download.html</a>.</p>

<p>The game installertothellotrialsetup.execanalso be found in the current folder.</p>

<h2 id="tasks">Tasks</h2>

<ol>
  <li>In order to reduce the complexity of the game, we think the board is 6×6.</li>
  <li>There are several evaluation functions that involve many aspects, you can turn to <a href="http://blog.sina.com.cn/s/blog_53ebdba00100cpy2.html">http://blog.sina.com.cn/s/blog_53ebdba00100cpy2.html</a> for help.  In order to reduce the difficulty ofthe task, I have gaven you some hints of evaluation function in the fileHeuristic Functionfor Reversi (Othello).cpp.2</li>
  <li>Please  choose  an  appropriate  evaluation  function  and  use  min-max  andα−βprunning  toimplement the Othello game.  The framework file you can refer to isOthello.cpp.  Of course,I wish your program can beat the computer.</li>
  <li>Write the related codes and take a screenshot of the running results in the file namedE03YourNumber.pdf,and send it toai201901@foxmail.com.</li>
</ol>

<h2 id="codes">Codes</h2>

<p>下述代码在<a href="https://vjudge.net/problem/UVA-220">Othello - UVa - 220</a>的基础上修改。使用时按照如下格式：</p>

<ol>
  <li>输入的第一个参数t，代表游戏进行的次数；</li>
  <li>对于每一次游戏
    <ol>
      <li>读入一个6*6的棋盘，用<code class="highlighter-rouge">B</code>代表黑棋，<code class="highlighter-rouge">W</code>代表白棋，<code class="highlighter-rouge">-</code>代表空位</li>
      <li>读入当前轮到谁下子（也就是说这个框架支持读档功能）</li>
      <li>接下来进入游戏状态，每次可以接受如下指令
        <ul>
          <li><code class="highlighter-rouge">S</code>：显示当前棋盘状态、双方得分，以及轮到谁落子</li>
          <li><code class="highlighter-rouge">L</code>：显示当前落子方可下的位置。不存在时，返回<code class="highlighter-rouge">No legal move.</code></li>
          <li><code class="highlighter-rouge">M&lt;r&gt;&lt;c&gt;</code>，在r行c列下一子，需保证此位置合法。当自己不能下这个位置时，会让对手下这个位置。</li>
          <li><code class="highlighter-rouge">Q</code>：打印盘面并退出</li>
          <li><code class="highlighter-rouge">A</code>：本次作业实现的对象，使用Alpha-Beta剪枝实现的AI来下这一步</li>
          <li>指令是可以批处理的，之间用空格分开。例如<code class="highlighter-rouge">A S A S</code>就是双方各让AI下一步，并分别打印盘面。</li>
        </ul>
      </li>
    </ol>
  </li>
</ol>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
</span><span class="k">struct</span> <span class="n">State</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">cnt</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">a</span><span class="p">[</span><span class="mi">15</span><span class="p">][</span><span class="mi">15</span><span class="p">];</span>
<span class="p">}</span> <span class="n">now</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">work</span><span class="p">(</span><span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">,</span> <span class="kt">char</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fill</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">||</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">)</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">,</span> <span class="n">ok</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dr</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span> <span class="n">dc</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">};</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">rr</span> <span class="o">=</span> <span class="n">r</span> <span class="o">+</span> <span class="n">dr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cc</span> <span class="o">=</span> <span class="n">c</span> <span class="o">+</span> <span class="n">dc</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">rr</span><span class="p">][</span><span class="n">cc</span><span class="p">]</span> <span class="o">==</span> <span class="n">y</span><span class="p">;)</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">rr</span> <span class="o">+=</span> <span class="n">dr</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">cc</span> <span class="o">+=</span> <span class="n">dc</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">==</span> <span class="n">x</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">fill</span><span class="p">)</span>
					<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
				<span class="k">for</span> <span class="p">(</span><span class="n">ok</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="o">--</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">],</span> <span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span><span class="p">];</span> <span class="n">rr</span> <span class="o">!=</span> <span class="n">r</span> <span class="o">||</span> <span class="n">cc</span> <span class="o">!=</span> <span class="n">c</span><span class="p">;</span> <span class="n">rr</span> <span class="o">-=</span> <span class="n">dr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cc</span> <span class="o">-=</span> <span class="n">dc</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
					<span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">rr</span><span class="p">][</span><span class="n">cc</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">],</span> <span class="o">--</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span><span class="p">];</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ok</span><span class="p">)</span>
		<span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">];</span>
	<span class="k">return</span> <span class="n">ok</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">showTable</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="n">puts</span><span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">dfs</span><span class="p">(</span><span class="kt">char</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dep</span><span class="p">,</span> <span class="kt">int</span> <span class="n">alpha</span><span class="p">,</span> <span class="kt">int</span> <span class="n">beta</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">ansr</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">ansc</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">ansr</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">ansc</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">dep</span><span class="p">)</span> <span class="c1">//局面评估函数，这里是自己的颜色减去对手的颜色数
</span>		<span class="k">return</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">]</span> <span class="o">-</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">ok</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">State</span> <span class="n">tp</span> <span class="o">=</span> <span class="n">now</span><span class="p">;</span> <span class="c1">// 备份当前状态
</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">work</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="c1">//如果这个位置可以下（填充进去）
</span>			<span class="p">{</span>
				<span class="n">ok</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">tmpr</span><span class="p">,</span> <span class="n">tmpc</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">=</span> <span class="o">-</span><span class="n">dfs</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">,</span> <span class="n">dep</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="n">beta</span><span class="p">,</span> <span class="o">-</span><span class="n">alpha</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tmpr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tmpc</span><span class="p">);</span>
				<span class="n">now</span> <span class="o">=</span> <span class="n">tp</span><span class="p">;</span> <span class="c1">//（回溯，恢复原状态）
</span>				<span class="k">if</span> <span class="p">(</span><span class="n">alpha</span> <span class="o">&lt;</span> <span class="n">tmp</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="o">*</span><span class="n">ansr</span> <span class="o">=</span> <span class="n">i</span><span class="p">,</span> <span class="o">*</span><span class="n">ansc</span> <span class="o">=</span> <span class="n">j</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
					<span class="k">if</span> <span class="p">(</span><span class="n">alpha</span> <span class="o">&gt;=</span> <span class="n">beta</span><span class="p">)</span> <span class="c1">// 可以减枝
</span>						<span class="k">break</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ok</span><span class="p">)</span> <span class="c1">//无可下子，丢给对手决定
</span>	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">tmpr</span><span class="p">,</span> <span class="n">tmpc</span><span class="p">;</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">dfs</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">,</span> <span class="n">dep</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="n">beta</span><span class="p">,</span> <span class="o">-</span><span class="n">alpha</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tmpr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tmpc</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">alpha</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">t</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">);</span> <span class="n">t</span><span class="o">--</span><span class="p">;</span> <span class="n">printf</span><span class="p">(</span><span class="n">t</span> <span class="o">?</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span> <span class="o">:</span> <span class="s">""</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'B'</span><span class="p">)</span>
					<span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">)</span>
					<span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="kt">char</span> <span class="n">cur</span><span class="p">,</span> <span class="n">cmd</span><span class="p">[</span><span class="mi">9</span><span class="p">];</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">cmd</span><span class="p">),</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span> <span class="o">!=</span> <span class="n">EOF</span><span class="p">;)</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'L'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
					<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
						<span class="k">if</span> <span class="p">(</span><span class="n">work</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
							<span class="n">printf</span><span class="p">(</span><span class="s">"%s(%d,%d)"</span><span class="p">,</span> <span class="n">cnt</span><span class="o">++</span> <span class="o">?</span> <span class="s">" "</span> <span class="o">:</span> <span class="s">""</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
				<span class="n">printf</span><span class="p">(</span><span class="n">cnt</span> <span class="o">?</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span> <span class="o">:</span> <span class="s">"No legal move.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">cmd</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'0'</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">cmd</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'0'</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">work</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
					<span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">;</span>
				<span class="n">work</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
				<span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">;</span>
				<span class="n">printf</span><span class="p">(</span><span class="s">"Black - %2d White - %2d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'Q'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">showTable</span><span class="p">();</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'S'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">printf</span><span class="p">(</span><span class="s">"Black - %2d White - %2d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
				<span class="n">printf</span><span class="p">(</span><span class="s">"Cur - %c</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">cur</span><span class="p">);</span>
				<span class="n">showTable</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'A'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">;</span>
				<span class="n">dfs</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e9</span><span class="p">,</span> <span class="mf">1e9</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">r</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">c</span><span class="p">);</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">c</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
					<span class="n">work</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
				<span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="cm">/*
1
------
------
--WB--
--BW--
------
------
W
A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S
*/</span>
</code></pre></div></div>

<h2 id="results">Results</h2>

<p>以下是对局的详细记录。白棋先手，最后黑-20白-16，黑胜。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./othello.out
1
<span class="nt">------</span>
<span class="nt">------</span>
<span class="nt">--WB--</span>
<span class="nt">--BW--</span>
<span class="nt">------</span>
<span class="nt">------</span>
W
A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S
Black -  1 White -  4
Cur - B
<span class="nt">------</span>
<span class="nt">---W--</span>
<span class="nt">--WW--</span>
<span class="nt">--BW--</span>
<span class="nt">------</span>
<span class="nt">------</span>
Black -  3 White -  3
Cur - W
<span class="nt">------</span>
<span class="nt">---W--</span>
<span class="nt">--WW--</span>
<span class="nt">--BBB-</span>
<span class="nt">------</span>
<span class="nt">------</span>
Black -  2 White -  5
Cur - B
<span class="nt">------</span>
<span class="nt">---W--</span>
<span class="nt">--WW--</span>
<span class="nt">--WBB-</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  5 White -  3
Cur - W
<span class="nt">---B--</span>
<span class="nt">---B--</span>
<span class="nt">--WB--</span>
<span class="nt">--WBB-</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  4 White -  5
Cur - B
<span class="nt">---BW-</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">--WBB-</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  6 White -  4
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">--WBB-</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  4 White -  7
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">--WWWW</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  6 White -  6
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">--BWWW</span>
<span class="nt">-BW---</span>
<span class="nt">------</span>
Black -  5 White -  8
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">-WWWWW</span>
<span class="nt">-BW---</span>
<span class="nt">------</span>
Black -  9 White -  5
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB--</span>
<span class="nt">-BWWWW</span>
BBW---
<span class="nt">------</span>
Black -  8 White -  7
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB--</span>
WWWWWW
BBW---
<span class="nt">------</span>
Black - 11 White -  5
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB--</span>
WWWBWW
BBBB--
<span class="nt">------</span>
Black -  9 White -  8
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB--</span>
WWWBWW
WWBB--
W-----
Black - 11 White -  7
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB-B</span>
WWWBBW
WWBB--
W-----
Black - 10 White -  9
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB-B</span>
WWWBBW
WWWB--
W--W--
Black - 12 White -  8
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">-BBB-B</span>
WWBBBW
WWWB--
W--W--
Black - 11 White - 10
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">-BBBWB</span>
WWBWBW
WWWB--
W--W--
Black - 13 White -  9
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">-BBBWB</span>
WWBBBW
WWWBB-
W--W--
Black - 10 White - 13
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
WWWWWB
WWBBBW
WWWBB-
W--W--
Black - 13 White - 11
Cur - W
<span class="nt">---BBB</span>
<span class="nt">--BB--</span>
WWBBWB
WWBBBW
WWWBB-
W--W--
Black -  9 White - 16
Cur - B
<span class="nt">--WBBB</span>
<span class="nt">--WW--</span>
WWWBWB
WWWBBW
WWWBB-
W--W--
Black - 11 White - 15
Cur - W
<span class="nt">--WBBB</span>
<span class="nt">-BWW--</span>
WWBBWB
WWWBBW
WWWBB-
W--W--
Black - 10 White - 17
Cur - B
<span class="nt">--WBBB</span>
WWWW--
WWBBWB
WWWBBW
WWWBB-
W--W--
Black - 12 White - 16
Cur - W
<span class="nt">--WBBB</span>
WWWW--
WWBBWB
WWWBBB
WWWBBB
W--W--
Black -  9 White - 20
Cur - B
<span class="nt">--WBBB</span>
WWWW--
WWWBWB
WWWWBB
WWWBWB
W--W-W
Black - 11 White - 19
Cur - W
<span class="nt">--WBBB</span>
WWWW--
WWWBWB
WWWWBB
WWWBBB
W--WBW
Black - 10 White - 21
Cur - B
<span class="nt">--WBBB</span>
WWWWW-
WWWWWB
WWWWBB
WWWBBB
W--WBW
Black - 14 White - 18
Cur - W
<span class="nt">-BBBBB</span>
WWBWW-
WWWBWB
WWWWBB
WWWBBB
W--WBW
Black - 11 White - 22
Cur - B
<span class="nt">-BBBBB</span>
WWBWWW
WWWBWW
WWWWBW
WWWBBW
W--WBW
Black - 15 White - 19
Cur - W
BBBBBB
WBBWWW
WWBBWW
WWWBBW
WWWBBW
W--WBW
Black - 13 White - 22
Cur - B
BBBBBB
WBBWWW
WWBBWW
WWWBWW
WWWWBW
W-WWBW
Black - 20 White - 16
Cur - W
BBBBBB
WBBWWW
WBBBWW
WBWBWW
WBBWBW
WBBBBW
</code></pre></div></div>
