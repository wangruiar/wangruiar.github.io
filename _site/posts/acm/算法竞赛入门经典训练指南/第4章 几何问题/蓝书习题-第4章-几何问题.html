<p><a href="https://github.com/wu-kan/ACM_Template/tree/master/计算几何">计算几何模板</a></p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Coord</span> <span class="nf">getCoord</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">lf</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">;</span>
	<span class="k">return</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%lf%lf"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">x</span><span class="p">,</span><span class="o">&amp;</span><span class="n">y</span><span class="p">),</span><span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="基础题目">基础题目</h1>
<h2 id="triangle-fun"><a href="https://vjudge.net/problem/UVA-11437">Triangle Fun</a></h2>
<p>按照题目意思的直接解法。</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span> <span class="n">n</span><span class="o">--</span><span class="p">;)</span>
	<span class="p">{</span>
		<span class="n">Coord</span> <span class="n">A</span><span class="o">=</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">B</span><span class="o">=</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">C</span><span class="o">=</span><span class="n">getCoord</span><span class="p">(),</span>
		      <span class="n">D</span><span class="o">=</span><span class="n">B</span><span class="o">+</span><span class="p">(</span><span class="n">C</span><span class="o">-</span><span class="n">B</span><span class="p">)</span><span class="o">/</span><span class="mf">3.0</span><span class="p">,</span><span class="n">E</span><span class="o">=</span><span class="n">C</span><span class="o">+</span><span class="p">(</span><span class="n">A</span><span class="o">-</span><span class="n">C</span><span class="p">)</span><span class="o">/</span><span class="mf">3.0</span><span class="p">,</span><span class="n">F</span><span class="o">=</span><span class="n">A</span><span class="o">+</span><span class="p">(</span><span class="n">B</span><span class="o">-</span><span class="n">A</span><span class="p">)</span><span class="o">/</span><span class="mf">3.0</span><span class="p">,</span>
		      <span class="n">P</span><span class="o">=</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">E</span><span class="p">),</span>
		      <span class="n">Q</span><span class="o">=</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">E</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">F</span><span class="p">),</span>
		      <span class="n">R</span><span class="o">=</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">F</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">D</span><span class="p">);</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"%.0f</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">fabs</span><span class="p">(</span><span class="n">Area2</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="n">Q</span><span class="p">,</span><span class="n">R</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">));</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>可证明$\triangle ABC$的面积是$\triangle PQR$的7倍，于是有下面的解法。</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
	        <span class="n">n</span><span class="o">--</span><span class="p">;</span>
	        <span class="n">printf</span><span class="p">(</span><span class="s">"%.0f</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span>
	               <span class="n">fabs</span><span class="p">(</span><span class="n">Area2</span><span class="p">(</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">())</span><span class="o">/</span><span class="mi">14</span><span class="p">)));</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="determine-the-shape"><a href="https://vjudge.net/problem/UVA-11800">Determine the Shape</a></h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">s</span><span class="p">[</span><span class="mi">6</span><span class="p">][</span><span class="mi">32</span><span class="p">]</span><span class="o">=</span>
	<span class="p">{</span>
		<span class="s">"Square"</span><span class="p">,</span>
		<span class="s">"Rectangle"</span><span class="p">,</span>
		<span class="s">"Rhombus"</span><span class="p">,</span>
		<span class="s">"Parallelogram"</span><span class="p">,</span>
		<span class="s">"Trapezium"</span><span class="p">,</span>
		<span class="s">"Ordinary Quadrilateral"</span>
	<span class="p">};</span>
	<span class="kt">int</span> <span class="n">t</span><span class="p">,</span><span class="n">kase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">ans</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">t</span><span class="p">);</span> <span class="n">t</span><span class="o">--</span><span class="p">;</span> <span class="n">printf</span><span class="p">(</span><span class="s">"Case %d: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">++</span><span class="n">kase</span><span class="p">,</span><span class="n">s</span><span class="p">[</span><span class="n">ans</span><span class="p">]))</span>
	<span class="p">{</span>
		<span class="n">ans</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span>
		<span class="n">Coord</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">()};</span>
		<span class="n">sort</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">p</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span><span class="n">cmpCoord</span><span class="p">);</span>
		<span class="k">do</span>
		<span class="p">{</span>
			<span class="n">Coord</span> <span class="o">&amp;</span><span class="n">a</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="o">&amp;</span><span class="n">b</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="o">&amp;</span><span class="n">c</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="o">&amp;</span><span class="n">d</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
			<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">sgn</span><span class="p">(</span><span class="n">Cross</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">a</span><span class="p">,</span><span class="n">d</span><span class="o">-</span><span class="n">c</span><span class="p">))</span><span class="o">||!</span><span class="n">sgn</span><span class="p">(</span><span class="n">Cross</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">d</span><span class="p">,</span><span class="n">c</span><span class="o">-</span><span class="n">b</span><span class="p">)))</span><span class="n">ans</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
			<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">sgn</span><span class="p">(</span><span class="n">Cross</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">a</span><span class="p">,</span><span class="n">d</span><span class="o">-</span><span class="n">c</span><span class="p">))</span><span class="o">&amp;&amp;!</span><span class="n">sgn</span><span class="p">(</span><span class="n">Cross</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">d</span><span class="p">,</span><span class="n">c</span><span class="o">-</span><span class="n">b</span><span class="p">)))</span>
			<span class="p">{</span>
				<span class="n">ans</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">sgn</span><span class="p">(</span><span class="n">Dot</span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">-</span><span class="n">d</span><span class="p">))</span><span class="o">?</span><span class="mi">3</span><span class="o">:</span><span class="mi">2</span><span class="p">);</span>
				<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">sgn</span><span class="p">(</span><span class="n">Dot</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">a</span><span class="p">,</span><span class="n">c</span><span class="o">-</span><span class="n">b</span><span class="p">)))</span>
					<span class="n">ans</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">sgn</span><span class="p">(</span><span class="n">Dot</span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">-</span><span class="n">d</span><span class="p">))</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">while</span><span class="p">(</span><span class="n">next_permutation</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">p</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span><span class="n">cmpCoord</span><span class="p">));</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="athletics-track"><a href="https://vjudge.net/problem/UVA-11646">Athletics Track</a></h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="n">lf</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">kase</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	        <span class="o">~</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%lf : %lf"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="o">&amp;</span><span class="n">b</span><span class="p">);</span>
	        <span class="n">printf</span><span class="p">(</span><span class="s">"Case %.0f: %.5f %.5f</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">kase</span><span class="o">+=</span><span class="mi">1</span><span class="p">,</span><span class="n">a</span><span class="o">*</span><span class="n">c</span><span class="p">,</span><span class="n">b</span><span class="o">*</span><span class="n">c</span><span class="p">))</span>
		<span class="n">c</span><span class="o">=</span><span class="mi">200</span><span class="o">/</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="n">atan</span><span class="p">(</span><span class="n">b</span><span class="o">/</span><span class="n">a</span><span class="p">)</span><span class="o">+</span><span class="n">a</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="tunnelling-the-earth"><a href="https://vjudge.net/problem/UVA-11817">Tunnelling the Earth</a></h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
	<span class="n">Sphere</span> <span class="n">earth</span><span class="p">(</span><span class="n">Coord3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="mi">6371009</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span> <span class="n">n</span><span class="o">--</span><span class="p">;)</span>
	<span class="p">{</span>
		<span class="n">lf</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">;</span>
		<span class="n">scanf</span><span class="p">(</span><span class="s">"%lf%lf%lf%lf"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="o">&amp;</span><span class="n">b</span><span class="p">,</span><span class="o">&amp;</span><span class="n">c</span><span class="p">,</span><span class="o">&amp;</span><span class="n">d</span><span class="p">);</span>
		<span class="n">Coord3</span> <span class="n">A</span><span class="p">(</span><span class="n">earth</span><span class="p">.</span><span class="n">point</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)),</span><span class="n">B</span><span class="p">(</span><span class="n">earth</span><span class="p">.</span><span class="n">point</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">));</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"%.0f</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">fabs</span><span class="p">(</span><span class="n">Angle</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span><span class="o">*</span><span class="n">earth</span><span class="p">.</span><span class="n">r</span><span class="p">)</span><span class="o">-</span><span class="n">abs</span><span class="p">(</span><span class="n">A</span><span class="o">-</span><span class="n">B</span><span class="p">));</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="二维几何计算">二维几何计算</h1>
<h2 id="morleys-theorem"><a href="https://vjudge.net/problem/UVA-11178">Morley’s Theorem</a></h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">t</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">t</span><span class="p">);</span> <span class="n">t</span><span class="o">--</span><span class="p">;</span> <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="n">Coord</span> <span class="n">A</span><span class="o">=</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">B</span><span class="o">=</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">C</span><span class="o">=</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">D</span><span class="p">;</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">lf</span> <span class="n">b</span><span class="o">=</span><span class="n">Angle</span><span class="p">(</span><span class="n">A</span><span class="o">-</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="o">-</span><span class="n">B</span><span class="p">),</span><span class="n">c</span><span class="o">=</span><span class="n">Angle</span><span class="p">(</span><span class="n">A</span><span class="o">-</span><span class="n">C</span><span class="p">,</span><span class="n">B</span><span class="o">-</span><span class="n">C</span><span class="p">);</span>
			<span class="n">Line</span> <span class="n">BD</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">Rotate</span><span class="p">(</span><span class="n">C</span><span class="o">-</span><span class="n">B</span><span class="p">,</span><span class="n">b</span><span class="o">/</span><span class="mi">3</span><span class="p">)),</span><span class="n">CD</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">Rotate</span><span class="p">(</span><span class="n">B</span><span class="o">-</span><span class="n">C</span><span class="p">,</span><span class="o">-</span><span class="n">c</span><span class="o">/</span><span class="mi">3</span><span class="p">));</span>
			<span class="n">D</span><span class="o">=</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">BD</span><span class="p">,</span><span class="n">CD</span><span class="p">);</span>
			<span class="n">printf</span><span class="p">(</span><span class="s">"%.6f %.6f "</span><span class="p">,</span><span class="n">D</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">D</span><span class="p">.</span><span class="n">Y</span><span class="p">);</span>
			<span class="n">swap</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">),</span><span class="n">swap</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="that-nice-euler-circuit"><a href="https://vjudge.net/problem/UVALive-3263">That Nice Euler Circuit</a></h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">CoordCmp</span>
<span class="p">{</span>
	<span class="kt">bool</span> <span class="k">operator</span><span class="p">()(</span><span class="n">Coord</span> <span class="n">A</span><span class="p">,</span><span class="n">Coord</span> <span class="n">B</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="n">cmpCoord</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">e</span><span class="p">,</span><span class="n">kase</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="n">e</span><span class="p">;</span> <span class="n">printf</span><span class="p">(</span><span class="s">"Case %d: There are %d pieces.</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">++</span><span class="n">kase</span><span class="p">,</span><span class="o">--</span><span class="n">e</span><span class="p">))</span><span class="c1">//读入时e本身大1个（最后一笔回到起点），因此上面得到的边数要减去一个
</span>    <span class="p">{</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">;</span>
        <span class="n">set</span><span class="o">&lt;</span><span class="n">Coord</span><span class="p">,</span><span class="n">CoordCmp</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">e</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">p</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">getCoord</span><span class="p">());</span>
            <span class="n">v</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">back</span><span class="p">());</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">i</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="n">SegmentProperIntersection</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="p">]))</span><span class="c1">//不包含端点的相交 
</span>                    <span class="n">v</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="p">]));</span>
        <span class="p">}</span>
        <span class="k">for</span><span class="p">(</span><span class="n">set</span><span class="o">&lt;</span><span class="n">Coord</span><span class="p">,</span><span class="n">CoordCmp</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">i</span><span class="o">=</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">i</span><span class="o">!=</span><span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">p</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="n">onSegment</span><span class="p">(</span><span class="o">*</span><span class="n">i</span><span class="p">,</span><span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="p">]))</span>
                    <span class="o">++</span><span class="n">e</span><span class="p">;</span>
        <span class="n">e</span><span class="o">+=</span><span class="mi">2</span><span class="o">-</span><span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="c1">//欧拉定理：平面图的点数V、边数E和面数F满足F=E+2-V
</span>    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="dog-distance"><a href="https://vjudge.net/problem/UVA-11796">Dog Distance</a></h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">I</span><span class="p">,</span><span class="n">kase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">lf</span> <span class="n">maxd</span><span class="p">,</span><span class="n">mind</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">len</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">Coord</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">I</span><span class="p">);</span> <span class="n">I</span><span class="o">--</span><span class="p">;</span> <span class="n">printf</span><span class="p">(</span><span class="s">"Case %d: %.0f</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">++</span><span class="n">kase</span><span class="p">,</span><span class="n">maxd</span><span class="o">-</span><span class="n">mind</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">while</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">--</span><span class="p">)</span><span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">getCoord</span><span class="p">());</span>
			<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">len</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="o">&lt;</span><span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
				<span class="n">len</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">abs</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]);</span>
			<span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">back</span><span class="p">(),</span><span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">pop_back</span><span class="p">();</span>
		<span class="p">}</span>
		<span class="k">for</span><span class="p">(</span><span class="n">maxd</span><span class="o">=</span><span class="n">mind</span><span class="o">=</span><span class="n">abs</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span> <span class="o">!</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">empty</span><span class="p">()</span><span class="o">&amp;&amp;!</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">empty</span><span class="p">();)</span>
		<span class="p">{</span>
			<span class="n">Coord</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">back</span><span class="p">()</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">back</span><span class="p">()</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]};</span>
			<span class="n">t</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="n">len</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">abs</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="n">len</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
			<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
				<span class="k">if</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">back</span><span class="p">()</span><span class="o">==</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*=</span><span class="n">t</span><span class="o">*</span><span class="n">len</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">abs</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span>
					<span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">pop_back</span><span class="p">();</span>
			<span class="n">maxd</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">maxd</span><span class="p">,</span><span class="n">abs</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
			<span class="n">mind</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">mind</span><span class="p">,</span><span class="n">DistanceToSegment</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="2d-geometry-110-in-1"><a href="https://vjudge.net/problem/UVA-12304">2D Geometry 110 in 1!</a></h2>
<p>EPS调成1e-6，再小判定圆和直线相切受影响。</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lf</span> <span class="nf">getlf</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">lf</span> <span class="n">x</span><span class="p">;</span>
	<span class="k">return</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%lf"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">x</span><span class="p">),</span><span class="n">x</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Coord</span> <span class="nf">getCoord</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">lf</span> <span class="n">x</span><span class="o">=</span><span class="n">getlf</span><span class="p">(),</span><span class="n">y</span><span class="o">=</span><span class="n">getlf</span><span class="p">();</span>
	<span class="k">return</span> <span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">printf</span><span class="p">(</span><span class="n">lf</span> <span class="n">sol</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%.6lf"</span><span class="p">,</span><span class="n">sol</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">printf</span><span class="p">(</span><span class="n">Coord</span> <span class="n">sol</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"("</span><span class="p">),</span><span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">.</span><span class="n">X</span><span class="p">),</span><span class="n">printf</span><span class="p">(</span><span class="s">","</span><span class="p">),</span>
	       <span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">.</span><span class="n">Y</span><span class="p">),</span><span class="n">printf</span><span class="p">(</span><span class="s">")"</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">printf</span><span class="p">(</span><span class="n">Circle</span> <span class="n">sol</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"("</span><span class="p">),</span><span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">X</span><span class="p">),</span><span class="n">printf</span><span class="p">(</span><span class="s">","</span><span class="p">),</span>
	       <span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">Y</span><span class="p">),</span><span class="n">printf</span><span class="p">(</span><span class="s">","</span><span class="p">),</span>
	       <span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">.</span><span class="n">r</span><span class="p">),</span><span class="n">printf</span><span class="p">(</span><span class="s">")"</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">printf</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">sol</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">sort</span><span class="p">(</span><span class="n">sol</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="n">sol</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="n">cmpCoord</span><span class="p">);</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"["</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="n">sol</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="n">printf</span><span class="p">(</span><span class="n">i</span><span class="o">?</span><span class="s">","</span><span class="o">:</span><span class="s">""</span><span class="p">),</span><span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"]"</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">char</span> <span class="n">s</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span> <span class="o">~</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span><span class="n">s</span><span class="p">);</span> <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">strcmp</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="s">"CircumscribedCircle"</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">Coord</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">()},</span>
			            <span class="n">p0</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span>
			            <span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span><span class="p">;</span>
			<span class="n">Line</span> <span class="n">l0</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span><span class="n">Normal</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span>
			     <span class="n">l2</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span><span class="n">Normal</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>

			<span class="n">Circle</span> <span class="n">sol</span><span class="p">(</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">l0</span><span class="p">,</span><span class="n">l2</span><span class="p">));</span>
			<span class="n">sol</span><span class="p">.</span><span class="n">r</span><span class="o">=</span><span class="n">abs</span><span class="p">(</span><span class="n">sol</span><span class="p">.</span><span class="n">c</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
			<span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">strcmp</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="s">"InscribedCircle"</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">Coord</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">()};</span>
			<span class="n">lf</span> <span class="n">arg0</span><span class="o">=</span><span class="p">(</span><span class="n">arg</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="n">arg</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
			       <span class="n">arg2</span><span class="o">=</span><span class="p">(</span><span class="n">arg</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">+</span><span class="n">arg</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
			<span class="n">Line</span> <span class="n">l0</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">polar</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="n">arg0</span><span class="p">)),</span>
			     <span class="n">l2</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">polar</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="n">arg2</span><span class="p">));</span>

			<span class="n">Circle</span> <span class="n">sol</span><span class="p">(</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">l0</span><span class="p">,</span><span class="n">l2</span><span class="p">));</span>
			<span class="n">sol</span><span class="p">.</span><span class="n">r</span><span class="o">=</span><span class="n">fabs</span><span class="p">(</span><span class="n">DistanceToLine</span><span class="p">(</span><span class="n">sol</span><span class="p">.</span><span class="n">c</span><span class="p">,</span><span class="n">Line</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])));</span>
			<span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">strcmp</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="s">"TangentLineThroughPoint"</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">Circle</span> <span class="n">C</span><span class="p">(</span><span class="n">getCoord</span><span class="p">());</span>
			<span class="n">C</span><span class="p">.</span><span class="n">r</span><span class="o">=</span><span class="n">getlf</span><span class="p">();</span>
			<span class="n">Coord</span> <span class="n">P</span><span class="o">=</span><span class="n">getCoord</span><span class="p">();</span>
			<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">;</span>
			<span class="n">getTangents</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">ans</span><span class="p">);</span>

			<span class="n">vector</span><span class="o">&lt;</span><span class="n">lf</span><span class="o">&gt;</span> <span class="n">sol</span><span class="p">;</span>
			<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="n">ans</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">sol</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">arg</span><span class="p">(</span><span class="n">ans</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">P</span><span class="p">)</span><span class="o">*</span><span class="mi">180</span><span class="o">/</span><span class="n">PI</span><span class="p">);</span>
				<span class="k">if</span><span class="p">(</span><span class="n">sol</span><span class="p">.</span><span class="n">back</span><span class="p">()</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span><span class="n">sol</span><span class="p">.</span><span class="n">back</span><span class="p">()</span><span class="o">+=</span><span class="mi">180</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">strcmp</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="s">"CircleThroughAPointAndTangentToALineWithRadius"</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">Circle</span> <span class="n">C</span><span class="p">(</span><span class="n">getCoord</span><span class="p">());</span>
			<span class="n">Coord</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">()};</span>
			<span class="n">C</span><span class="p">.</span><span class="n">r</span><span class="o">=</span><span class="n">getlf</span><span class="p">();</span>
			<span class="n">Coord</span> <span class="n">mov</span><span class="o">=</span><span class="n">Normal</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="n">C</span><span class="p">.</span><span class="n">r</span><span class="p">;</span>
			<span class="n">Line</span> <span class="n">L0</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">mov</span><span class="p">,</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="n">L1</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">mov</span><span class="p">,</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

			<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">sol</span><span class="p">;</span>
			<span class="n">getLineCircleIntersection</span><span class="p">(</span><span class="n">L0</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">sol</span><span class="p">);</span>
			<span class="n">getLineCircleIntersection</span><span class="p">(</span><span class="n">L1</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">sol</span><span class="p">);</span>
			<span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">strcmp</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="s">"CircleTangentToTwoLinesWithRadius"</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">Coord</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">getCoord</span><span class="p">()};</span>
			<span class="n">lf</span> <span class="n">r</span><span class="o">=</span><span class="n">getlf</span><span class="p">();</span>
			<span class="n">Coord</span> <span class="n">mov</span><span class="o">=</span><span class="n">Normal</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="n">r</span><span class="p">;</span>
			<span class="n">Line</span> <span class="n">L0</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">mov</span><span class="p">,</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="n">L1</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">mov</span><span class="p">,</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
			<span class="n">mov</span><span class="o">=</span><span class="n">Normal</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">*</span><span class="n">r</span><span class="p">;</span>
			<span class="n">Line</span> <span class="n">L2</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">mov</span><span class="p">,</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="n">L3</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">mov</span><span class="p">,</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>

			<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">sol</span><span class="p">;</span>
			<span class="n">sol</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">L0</span><span class="p">,</span><span class="n">L2</span><span class="p">));</span>
			<span class="n">sol</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">L0</span><span class="p">,</span><span class="n">L3</span><span class="p">));</span>
			<span class="n">sol</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">L1</span><span class="p">,</span><span class="n">L2</span><span class="p">));</span>
			<span class="n">sol</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">getLineIntersection</span><span class="p">(</span><span class="n">L1</span><span class="p">,</span><span class="n">L3</span><span class="p">));</span>
			<span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">strcmp</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="s">"CircleTangentToTwoDisjointCirclesWithRadius"</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">Circle</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
			<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
				<span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">c</span><span class="o">=</span><span class="n">getCoord</span><span class="p">(),</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">r</span><span class="o">=</span><span class="n">getlf</span><span class="p">();</span>
			<span class="n">lf</span> <span class="n">r</span><span class="o">=</span><span class="n">getlf</span><span class="p">();</span>
			<span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">r</span><span class="o">+=</span><span class="n">r</span><span class="p">,</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">r</span><span class="o">+=</span><span class="n">r</span><span class="p">;</span>

			<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">sol</span><span class="p">;</span>
			<span class="n">getCircleIntersection</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">sol</span><span class="p">);</span>
			<span class="n">printf</span><span class="p">(</span><span class="n">sol</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="几何算法">几何算法</h1>
<h2 id="board-wrapping"><a href="https://vjudge.net/problem/UVA-10652">Board Wrapping</a></h2>
<p>凸包模板题。</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">t</span><span class="p">,</span><span class="n">n</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">t</span><span class="p">);</span> <span class="n">t</span><span class="o">--</span><span class="p">;)</span>
	<span class="p">{</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">;</span>
		<span class="n">lf</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
		<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span> <span class="n">n</span><span class="o">--</span><span class="p">;</span> <span class="n">s</span><span class="o">+=</span><span class="n">w</span><span class="o">*</span><span class="n">h</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">scanf</span><span class="p">(</span><span class="s">"%lf%lf%lf%lf%lf"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">x</span><span class="p">,</span><span class="o">&amp;</span><span class="n">y</span><span class="p">,</span><span class="o">&amp;</span><span class="n">w</span><span class="p">,</span><span class="o">&amp;</span><span class="n">h</span><span class="p">,</span><span class="o">&amp;</span><span class="n">j</span><span class="p">);</span>
			<span class="n">p</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="n">Rotate</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="o">-</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="o">-</span><span class="n">j</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">PI</span><span class="p">));</span>
			<span class="n">p</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="n">Rotate</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="o">-</span><span class="n">j</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">PI</span><span class="p">));</span>
			<span class="n">p</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="n">Rotate</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="o">-</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="o">-</span><span class="n">j</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">PI</span><span class="p">));</span>
			<span class="n">p</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="n">Rotate</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="o">-</span><span class="n">j</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">PI</span><span class="p">));</span>
		<span class="p">}</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"%.1f %%</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">s</span><span class="o">*</span><span class="mi">100</span><span class="o">/</span><span class="n">PolygonArea</span><span class="p">(</span><span class="n">ConvexHull</span><span class="p">(</span><span class="n">p</span><span class="p">)));</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="airport"><a href="https://vjudge.net/problem/UVA-11168">Airport</a></h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">t</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">kase</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">t</span><span class="p">);</span> <span class="n">t</span><span class="o">--</span><span class="p">;)</span>
	<span class="p">{</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">;</span>
		<span class="k">for</span><span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span> <span class="n">n</span><span class="o">--</span><span class="p">;)</span>
		<span class="p">{</span>
			<span class="n">lf</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">;</span>
			<span class="n">scanf</span><span class="p">(</span><span class="s">"%lf%lf"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">x</span><span class="p">,</span><span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
			<span class="n">p</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">));</span>
		<span class="p">}</span>
		<span class="k">if</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">printf</span><span class="p">(</span><span class="s">"Case #%d: 0.000</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">++</span><span class="n">kase</span><span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">ch</span><span class="p">(</span><span class="n">ConvexHull</span><span class="p">(</span><span class="n">p</span><span class="p">));</span>
		<span class="n">lf</span> <span class="n">ans</span><span class="o">=</span><span class="n">INF</span><span class="p">;</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">ch</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">lf</span> <span class="n">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">len</span><span class="o">=</span><span class="n">abs</span><span class="p">(</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">ch</span><span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">ch</span><span class="p">.</span><span class="n">size</span><span class="p">()]);</span>
			<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">p</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
				<span class="n">sum</span><span class="o">+=</span><span class="n">Cross</span><span class="p">(</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="p">],</span><span class="n">ch</span><span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">ch</span><span class="p">.</span><span class="n">size</span><span class="p">()]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="o">/</span><span class="n">len</span><span class="p">;</span>
			<span class="n">ans</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">sum</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"Case #%d: %.3f</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">++</span><span class="n">kase</span><span class="p">,</span><span class="n">ans</span><span class="o">/</span><span class="n">p</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="the-great-divide"><a href="https://vjudge.net/problem/UVA-10256">The Great Divide</a></h2>
<p>判断两凸包是否相交。</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="nf">ConvexPolygonDisjoint</span><span class="p">(</span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">ch1</span><span class="p">,</span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">ch2</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">ch1</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">if</span><span class="p">(</span><span class="n">inPolygon</span><span class="p">(</span><span class="n">ch1</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">ch2</span><span class="p">))</span>
			<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">ch2</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">if</span><span class="p">(</span><span class="n">inPolygon</span><span class="p">(</span><span class="n">ch2</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">ch1</span><span class="p">))</span>
			<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">ch1</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">ch2</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
			<span class="k">if</span><span class="p">(</span><span class="n">SegmentProperIntersection</span><span class="p">(</span><span class="n">ch1</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">ch1</span><span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">ch1</span><span class="p">.</span><span class="n">size</span><span class="p">()],</span><span class="n">ch2</span><span class="p">[</span><span class="n">j</span><span class="p">],</span><span class="n">ch2</span><span class="p">[(</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">ch2</span><span class="p">.</span><span class="n">size</span><span class="p">()]))</span>
				<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span> <span class="o">~</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="o">&amp;</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">];)</span>
	<span class="p">{</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">P</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
			<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">lf</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">;</span>
				<span class="n">scanf</span><span class="p">(</span><span class="s">"%lf%lf"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">x</span><span class="p">,</span><span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
				<span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">));</span>
			<span class="p">}</span>
		<span class="n">printf</span><span class="p">(</span><span class="n">ConvexPolygonDisjoint</span><span class="p">(</span><span class="n">ConvexHull</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="n">ConvexHull</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span><span class="o">?</span><span class="s">"Yes</span><span class="se">\n</span><span class="s">"</span><span class="o">:</span><span class="s">"No</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="squares"><a href="https://vjudge.net/problem/UVALive-4728">Squares</a></h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int main()
{
	int t,n;
	for(scanf("%d",&amp;t); t--;)
	{
		scanf("%d",&amp;n);
		vector&lt;Coord&gt; p;
		for(int i=0; i&lt;n; ++i)
		{
			lf x,y,w;
			scanf("%lf%lf%lf",&amp;x,&amp;y,&amp;w);
			p.push_back(Coord(x,y));
			p.push_back(Coord(x,y+w));
			p.push_back(Coord(x+w,y));
			p.push_back(Coord(x+w,y+w));
		}
		vector&lt;Coord&gt; ch(ConvexHull(p));
		lf ans;
		if(ch.size()==1)ans=0;
		else if(ch.size()==2)ans=norm(ch[0]-ch[1]);
		else
			for(int u=ans=0,v=1,k; u&lt;ch.size(); ++u)
				for(;; v=(v+1)%ch.size())
					if(k=sgn(Cross(ch[(u+1)%ch.size()]-ch[u],ch[(v+1)%ch.size()]-ch[v])),k&lt;=0)
					{
						ans=max(ans,norm(ch[u]-ch[v]));
						if(k==0)ans=max(ans,norm(ch[u]-ch[(v+1)%ch.size()]));
						break;
					}
		printf("%.0f\n",ans);
	}
}
</code></pre></div></div>
<h2 id="most-distant-point-from-the-sea"><a href="https://vjudge.net/problem/UVALive-3890">Most Distant Point from the Sea</a></h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">;</span> <span class="o">~</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="n">n</span><span class="p">;)</span>
	<span class="p">{</span>
		<span class="n">lf</span> <span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">;</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="n">Coord</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">;</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">scanf</span><span class="p">(</span><span class="s">"%lf%lf"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">l</span><span class="p">,</span><span class="o">&amp;</span><span class="n">r</span><span class="p">);</span>
			<span class="n">p</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Coord</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">));</span>
		<span class="p">}</span>
		<span class="k">for</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">INF</span><span class="p">;</span> <span class="n">r</span><span class="o">-</span><span class="n">l</span><span class="o">&gt;</span><span class="n">EPS</span><span class="p">;)</span>
		<span class="p">{</span>
			<span class="n">lf</span> <span class="n">m</span><span class="o">=</span><span class="p">(</span><span class="n">l</span><span class="o">+</span><span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
			<span class="n">vector</span><span class="o">&lt;</span><span class="n">Line</span><span class="o">&gt;</span> <span class="n">L</span><span class="p">;</span>
			<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">L</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">p</span><span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">n</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
				<span class="n">L</span><span class="p">.</span><span class="n">back</span><span class="p">().</span><span class="n">p</span><span class="o">+=</span><span class="n">m</span><span class="o">*</span><span class="n">Normal</span><span class="p">(</span><span class="n">L</span><span class="p">.</span><span class="n">back</span><span class="p">().</span><span class="n">v</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">if</span><span class="p">(</span><span class="n">getHalfPlaneIntersection</span><span class="p">(</span><span class="n">L</span><span class="p">).</span><span class="n">empty</span><span class="p">())</span><span class="n">r</span><span class="o">=</span><span class="n">m</span><span class="p">;</span>
			<span class="k">else</span> <span class="n">l</span><span class="o">=</span><span class="n">m</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"%.6f</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">l</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
