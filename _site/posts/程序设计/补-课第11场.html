<p><a href="https://vjudge.net/contest/200980#overview">Overview</a></p>
<h1 id="晶晶赴约会"><a href="https://vjudge.net/problem/OpenJ_Bailian-2718">晶晶赴约会</a></h1>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#incldue&lt;stdio.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
	<span class="n">printf</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="o">||</span><span class="n">n</span><span class="o">==</span><span class="mi">3</span><span class="o">||</span><span class="n">n</span><span class="o">==</span><span class="mi">5</span><span class="o">?</span>
		   <span class="s">"NO"</span><span class="o">:</span><span class="s">"YES"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="陶陶摘苹果"><a href="https://vjudge.net/problem/OpenJ_Bailian-2719">陶陶摘苹果</a></h1>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span><span class="n">h</span><span class="p">,</span><span class="n">ans</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">h</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">30</span><span class="o">+</span><span class="n">h</span><span class="p">)</span>
			<span class="o">++</span><span class="n">ans</span><span class="p">;</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="n">ans</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="大象喝水"><a href="https://vjudge.net/problem/OpenJ_Bailian-2720">大象喝水</a></h1>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">h</span><span class="p">,</span><span class="n">r</span><span class="p">;</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">h</span><span class="p">,</span><span class="o">&amp;</span><span class="n">r</span><span class="p">);</span>
	<span class="kt">double</span> <span class="n">v</span><span class="o">=</span><span class="mi">3</span><span class="p">.</span><span class="mi">14159</span><span class="o">*</span><span class="n">r</span><span class="o">*</span><span class="n">r</span><span class="o">*</span><span class="n">h</span><span class="p">;</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,(</span><span class="kt">int</span><span class="p">)(</span><span class="mi">20000</span><span class="o">/</span><span class="n">v</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="忽略大小写比较字符串大小"><a href="https://vjudge.net/problem/OpenJ_Bailian-2721">忽略大小写比较字符串大小</a></h1>
<p>学习一个gets和puts函数的用法。另外，为了程序高效，尽量减少strlen函数的调用。</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">128</span><span class="p">];</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">gets</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">!=-</span><span class="mi">1</span><span class="p">;</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span>
			<span class="k">if</span><span class="p">(</span><span class="sc">'A'</span><span class="o">&lt;=</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">&lt;=</span><span class="sc">'Z'</span><span class="p">)</span>
				<span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+=</span><span class="sc">'a'</span><span class="o">-</span><span class="sc">'A'</span><span class="p">;</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span> <span class="n">j</span><span class="o">!=</span><span class="mi">128</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
			<span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">128</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>
		<span class="p">{</span>
			<span class="n">puts</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">?</span><span class="s">"&lt;"</span><span class="o">:</span><span class="s">"&gt;"</span><span class="p">);</span>
			<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="n">puts</span><span class="p">(</span><span class="s">"="</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>已经强调本题禁用strcmp函数结果……本题变得毫无诚意。</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
#include&lt;ctype.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">cmp</span><span class="p">,</span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">128</span><span class="p">];</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">gets</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">!=-</span><span class="mi">1</span><span class="p">;</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span>
			<span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">tolower</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">cmp</span><span class="o">=</span><span class="n">strcmp</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
	<span class="n">puts</span><span class="p">(</span><span class="n">cmp</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="s">"&gt;"</span><span class="o">:</span>
		 <span class="n">cmp</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="s">"&lt;"</span><span class="o">:</span><span class="s">"="</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="学分绩点"><a href="https://vjudge.net/problem/OpenJ_Bailian-2722">学分绩点</a></h1>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
</span><span class="kt">float</span> <span class="nf">scal</span><span class="p">(</span><span class="kt">int</span> <span class="n">g</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">g</span><span class="o">&gt;</span><span class="mi">89</span><span class="o">?</span><span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="o">:</span>
		   <span class="n">g</span><span class="o">&gt;</span><span class="mi">84</span><span class="o">?</span><span class="mi">3</span><span class="p">.</span><span class="mi">7</span><span class="o">:</span>
		   <span class="n">g</span><span class="o">&gt;</span><span class="mi">81</span><span class="o">?</span><span class="mi">3</span><span class="p">.</span><span class="mi">3</span><span class="o">:</span>
		   <span class="n">g</span><span class="o">&gt;</span><span class="mi">77</span><span class="o">?</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="o">:</span>
		   <span class="n">g</span><span class="o">&gt;</span><span class="mi">74</span><span class="o">?</span><span class="mi">2</span><span class="p">.</span><span class="mi">7</span><span class="o">:</span>
		   <span class="n">g</span><span class="o">&gt;</span><span class="mi">71</span><span class="o">?</span><span class="mi">2</span><span class="p">.</span><span class="mi">3</span><span class="o">:</span>
		   <span class="n">g</span><span class="o">&gt;</span><span class="mi">67</span><span class="o">?</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="o">:</span>
		   <span class="n">g</span><span class="o">&gt;</span><span class="mi">63</span><span class="o">?</span><span class="mi">1</span><span class="p">.</span><span class="mi">5</span><span class="o">:</span>
		   <span class="n">g</span><span class="o">&gt;</span><span class="mi">59</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">10</span><span class="p">];</span>
	<span class="kt">float</span> <span class="n">sum</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">};</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">j</span><span class="o">!=</span><span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
			<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">sum</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">];</span>
		<span class="n">sum</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">scal</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%.2f"</span><span class="p">,</span><span class="n">sum</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">sum</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="不吉利日期"><a href="https://vjudge.net/problem/OpenJ_Bailian-2723">不吉利日期</a></h1>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">w</span><span class="p">,</span><span class="n">days</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">};</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">w</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">d</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">m</span><span class="o">!=</span><span class="mi">13</span><span class="p">;</span> <span class="o">++</span><span class="n">d</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="o">%</span><span class="mi">7</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="n">d</span><span class="o">==</span><span class="mi">13</span><span class="o">&amp;&amp;</span><span class="n">w</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span>
			<span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">m</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="n">d</span><span class="o">==</span><span class="n">days</span><span class="p">[</span><span class="n">m</span><span class="p">])</span>
		<span class="p">{</span>
			<span class="o">++</span><span class="n">m</span><span class="p">;</span>
			<span class="n">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>优解：直接从1月13号往上加，利用同余系的性质很漂亮的做掉这一题。</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">w</span><span class="p">,</span><span class="n">days</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">};</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">w</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">m</span><span class="o">&lt;=</span><span class="mi">12</span><span class="p">;</span> <span class="o">++</span><span class="n">m</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">w</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="o">+</span><span class="n">days</span><span class="p">[</span><span class="n">m</span><span class="p">])</span><span class="o">%</span><span class="mi">7</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">w</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span>
			<span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">m</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="生日相同"><a href="https://vjudge.net/problem/OpenJ_Bailian-2724">生日相同</a></h1>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
</span><span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">13</span><span class="p">][</span><span class="mi">32</span><span class="p">][</span><span class="mi">128</span><span class="p">][</span><span class="mi">16</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">size</span><span class="p">[</span><span class="mi">13</span><span class="p">][</span><span class="mi">32</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span> <span class="n">n</span><span class="o">--</span><span class="p">;)</span>
	<span class="p">{</span>
		<span class="n">scanf</span><span class="p">(</span><span class="s">"%s%d%d"</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="o">&amp;</span><span class="n">m</span><span class="p">,</span><span class="o">&amp;</span><span class="n">d</span><span class="p">);</span>
		<span class="n">strcpy</span><span class="p">(</span><span class="n">str</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">d</span><span class="p">][</span><span class="n">size</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">d</span><span class="p">]</span><span class="o">++</span><span class="p">],</span><span class="n">name</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">for</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">m</span><span class="o">!=</span><span class="mi">13</span><span class="p">;</span> <span class="o">++</span><span class="n">m</span><span class="p">)</span>
		<span class="k">for</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">d</span><span class="o">!=</span><span class="mi">32</span><span class="p">;</span> <span class="o">++</span><span class="n">d</span><span class="p">)</span>
			<span class="k">if</span><span class="p">(</span><span class="n">size</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">d</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">printf</span><span class="p">(</span><span class="s">"%d %d"</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">d</span><span class="p">);</span>
				<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="n">size</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">d</span><span class="p">];</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
					<span class="n">printf</span><span class="p">(</span><span class="s">" %s"</span><span class="p">,</span><span class="n">str</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">d</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
				<span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
			<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="跳格问题"><a href="https://vjudge.net/problem/OpenJ_Bailian-2725">跳格问题</a></h1>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">ans</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">32</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">pos</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">pre</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">pos</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;)</span>
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">pre</span><span class="o">=</span><span class="n">pos</span><span class="p">])</span>
		<span class="p">{</span>
			<span class="n">pos</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span>
			<span class="k">if</span><span class="p">(</span><span class="n">pos</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span>
				<span class="n">pos</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
			<span class="n">a</span><span class="p">[</span><span class="n">pre</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
			<span class="o">++</span><span class="n">ans</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="o">++</span><span class="n">pos</span><span class="p">;</span>
			<span class="n">ans</span><span class="o">+=</span><span class="mi">2</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="n">ans</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="采药"><a href="https://vjudge.net/problem/OpenJ_Bailian-2726">采药</a></h1>
<p>可以看到I、J两题不同的只有数据范围。 <br />
对于数据范围比较小的I题，可以直接暴力搜索：将草药从1开始编号，记 <code class="highlighter-rouge">f[t][m]</code> 为时间t内采集前m棵的草药的最优解，那么有 <code class="highlighter-rouge">f[t][m]=max(f[t-cost[m]][m-1]+value[m],f[t][m-1])</code> ；用自然语言表述，就是<strong>m号草药要么采，要么不采</strong>。 <br />
然后考虑搜索的边界条件：如果 <code class="highlighter-rouge">t&lt;0</code> ，说明时间已经是不够用的，那么要返回一个负无穷来表示这个状态不可以被转移；如果 <code class="highlighter-rouge">t==0</code> ，说明根本不给时间采药，那么结果显然是0；如果 <code class="highlighter-rouge">m==0</code> ，说明所有的草药都已经被考虑过，这时候时间还有多，那么返回0表示继续采也不会再有收益了。</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;stdio.h&gt;
</span><span class="kt">int</span> <span class="n">cost</span><span class="p">[</span><span class="mi">128</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">},</span><span class="n">value</span><span class="p">[</span><span class="mi">128</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="kt">int</span> <span class="nf">max</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span><span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">a</span><span class="o">&gt;</span><span class="n">b</span><span class="o">?</span><span class="n">a</span><span class="o">:</span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">work</span><span class="p">(</span><span class="kt">int</span> <span class="n">t</span><span class="p">,</span><span class="kt">int</span> <span class="n">m</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="n">t</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="o">-</span><span class="mf">1e9</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="n">t</span><span class="o">==</span><span class="mi">0</span><span class="o">||</span><span class="n">m</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">return</span> <span class="n">max</span><span class="p">(</span><span class="n">work</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">work</span><span class="p">(</span><span class="n">t</span><span class="o">-</span><span class="n">cost</span><span class="p">[</span><span class="n">m</span><span class="p">],</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">value</span><span class="p">[</span><span class="n">m</span><span class="p">]);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">t</span><span class="p">,</span><span class="n">m</span><span class="p">;</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span><span class="o">&amp;</span><span class="n">m</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">cost</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="o">&amp;</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span><span class="n">work</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">m</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>
<h1 id="还是采药问题"><a href="https://vjudge.net/problem/OpenJ_Bailian-2727">还是采药问题</a></h1>
<p>注意到在第I题的搜索里，搜索的过程有很多重复的浪费；我们可以用数组手动推转移关系。</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">work</span><span class="p">(</span><span class="kt">int</span> <span class="n">t</span><span class="p">,</span><span class="kt">int</span> <span class="n">m</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="mi">1024</span><span class="p">][</span><span class="mi">128</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="c1">//定义成static可以把数组全部初始化为0
</span>	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">t</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="n">m</span><span class="p">;</span><span class="o">++</span><span class="n">j</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
			<span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&gt;=</span><span class="n">cost</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
				<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span>
					<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">cost</span><span class="p">[</span><span class="n">j</span><span class="p">]][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">value</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
		<span class="p">}</span>
	<span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>
<p>注意到转移方向的特殊性，稍改一下循环的层级和方向，就可以将原先的数组降至一维，从而大大降低函数的内存开销。</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">work</span><span class="p">(</span><span class="kt">int</span> <span class="n">t</span><span class="p">,</span><span class="kt">int</span> <span class="n">m</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="mi">1024</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;=</span><span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">t</span><span class="p">;</span> <span class="n">i</span><span class="o">&gt;=</span><span class="n">cost</span><span class="p">[</span><span class="n">j</span><span class="p">];</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span><span class="c1">//需要倒序循环，否则一株草药可能会被采多次
</span>			<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
				<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">cost</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span><span class="o">+</span><span class="n">value</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
	<span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">t</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>
<p>当然，也可以在I题中的函数里加上<strong>静态（static）</strong>记录数组，每次搜索后把结果存起来；在调用函数的时候先判断当前节点是否已经搜索过，如果是则直接返回保存的结果。这样的技术，我们称之为<strong>记忆化搜索</strong>。当然，也可以使用全局数组代替，但是全局数组可以被程序的其他部分访问，从而可能使函数的运行不符合我们的预期；使用静态数组，可以使搜索函数变成记录数组唯一合法的访问入口，更加保险。 <br />
注意，和很多常见的记忆化搜索不同，这里的0是有可能（其实是一定，例如 <code class="highlighter-rouge">work(0,0)</code> 一定为0）出现在搜索结果中的，因此需要专门使用一个标记数组来记录访问情况，而不能直接判断 <code class="highlighter-rouge">f[t][m]！=0</code> 是否成立否则会TLE。 <br />
当然，这样写的好处是逻辑清晰易写，效率也和之前的动态规划是一个级别（每个点至多只计算一次，而且很多无关点不会被访问）；缺点是函数调用会有一点微小的开销，造成更大的内存空间浪费，也不像之前的规划那样容易降维优化。</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">work</span><span class="p">(</span><span class="kt">int</span> <span class="n">t</span><span class="p">,</span><span class="kt">int</span> <span class="n">m</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="mi">1024</span><span class="p">][</span><span class="mi">128</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">},</span>
				<span class="n">flag</span><span class="p">[</span><span class="mi">1024</span><span class="p">][</span><span class="mi">128</span><span class="p">]</span><span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
	<span class="k">if</span><span class="p">(</span><span class="n">t</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="o">-</span><span class="mf">1e9</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="n">t</span><span class="o">==</span><span class="mi">0</span><span class="o">||</span><span class="n">m</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="n">m</span><span class="p">])</span><span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="n">m</span><span class="p">];</span>
	<span class="n">flag</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="n">m</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
	<span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="n">m</span><span class="p">]</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">work</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
		<span class="n">work</span><span class="p">(</span><span class="n">t</span><span class="o">-</span><span class="n">cost</span><span class="p">[</span><span class="n">m</span><span class="p">],</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">value</span><span class="p">[</span><span class="n">m</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div></div>
